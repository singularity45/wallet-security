// Fix errors in contract interaction with wallets
// Refactor contract state machine design
